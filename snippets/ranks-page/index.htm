<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Ranks page - phpBB Snippets</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="./../../assets/css/bootstrap.css" rel="stylesheet">
    <link href="./../../assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="./../../assets/css/docs.css" rel="stylesheet">
    <link href="./../../assets/js/google-code-prettify/prettify.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="./../../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="./../../assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./../../assets/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="./../../assets/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="./../../assets/ico/favicon.png">

  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="./../../index.html" style="color:#fff;">phpBB Snippets</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active">
                <a href="#top">Back to top</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

<header class="jumbotron subhead" id="overview">
  <div class="container">
    <h1>Ranks Page</h1>
	  <p>Simple page that displays all the ranks and their titles</p>
  </div>
</header>

  <div class="container">

        <section id="top">
          <div class="page-header">
            
          </div>
          <p class="lead">Lists all your ranks on 1 page - User Ranks at the top, Special ranks at the bottom. If you want to change the order they are displayed, simply alter the ASC/DESC in the SQL</p>
            <p>If you only want to show normal post based ranks and not any of the special ranks, you can make the following adjustment to <strong>ranks.php</strong>:</p>
<pre>#
#-----[ FIND ]------------------------------------------
#
</pre>
<pre class="prettyprint linenums">    // How many ranks do we have?
    $sql = 'SELECT *
        FROM ' . RANKS_TABLE . '
        ORDER BY rank_special ASC, rank_min ASC, rank_title ASC';
    $result = $db-&gt;sql_query($sql);

    while ($row = $db-&gt;sql_fetchrow($result)) 
    {
        $template-&gt;assign_block_vars('rank', array(
            'RANK_ID'           =&gt; $row['rank_id'],
            'RANK_TITLE'        =&gt; (isset($row['rank_title'])) ? $row['rank_title'] : '',
            'RANK_MIN'          =&gt; (isset($row['rank_min']) &amp;&amp; !$row['rank_special']) ? $row['rank_min'] : '-',
            'S_RANK_SPECIAL'    =&gt; (isset($row['rank_special'])) ? true : false,
            'RANK_IMAGE'        =&gt; (empty($row['rank_image'])) ? '' : $phpbb_root_path . $config['ranks_path'] . '/' . $row['rank_image'],
            'U_EDIT_RANK'       =&gt; ($auth-&gt;acl_get('a_ranks')) ? append_sid("{$phpbb_root_path}adm/index.$phpEx", 'i=ranks&amp;mode=ranks&amp;action=edit&amp;id=' . $row['rank_id'], true, $user-&gt;session_id) : '',
        ));
    }
    $db-&gt;sql_freeresult($result); </pre>
<pre>#
#-----[ REPLACE WITH ]------------------------------------------
#
</pre>            
<pre class="prettyprint linenums">    // How many ranks do we have?
    $sql = 'SELECT *
        FROM ' . RANKS_TABLE . '
            WHERE rank_special = 0
        ORDER BY rank_min ASC, rank_title ASC';
    $result = $db-&gt;sql_query($sql);

    while ($row = $db-&gt;sql_fetchrow($result)) 
    {
        $template-&gt;assign_block_vars('rank', array(
            'RANK_ID'           =&gt; $row['rank_id'],
            'RANK_TITLE'        =&gt; (isset($row['rank_title'])) ? $row['rank_title'] : '',
            'RANK_MIN'          =&gt; (isset($row['rank_min']) &amp;&amp; !$row['rank_special']) ? $row['rank_min'] : '-',
            'RANK_IMAGE'        =&gt; (empty($row['rank_image'])) ? '' : $phpbb_root_path . $config['ranks_path'] . '/' . $row['rank_image'],
            'U_EDIT_RANK'       =&gt; ($auth-&gt;acl_get('a_ranks')) ? append_sid("{$phpbb_root_path}adm/index.$phpEx", 'i=ranks&amp;mode=ranks&amp;action=edit&amp;id=' . $row['rank_id'], true, $user-&gt;session_id) : '',
        ));
    }
    $db->sql_freeresult($result); </pre>            
            <p>
                <a href="files/RanksPage.zip" title="Ranks Page Download" class="btn btn-large btn-primary"><i class="icon-download-alt icon-white"></i> Download</a>
            </p>            
<pre>#
#-----[ COPY ]------------------------------------------
#
ranks.php to ranks.php
language/en/mod/ranks.php to language/en/mod/ranks.php
styles/prosilver/template/ranks_body.html to styles/prosilver/template/ranks_body.html
</pre>		
<pre>#
#-----[ DIY ]------------------------------------------
#
Find a suitable place to add your link to your groups page, whether it's on the header or footer or custom page
</pre>		

        </section>
    </div>

	<footer class="footer">
      <div class="container">
        <p>`This page was designed and built using the awesome Bootstrap CSS framework from <a target="_blank" href="http://twitter.com/mdo">@mdo</a> and <a target="_blank" href="http://twitter.com/fat">@fat</a>.</p>
        <p>Code provided here is given as is with no guarantee of support - this code has <strong>not</strong> been tested with the latest phpBB versions.</p>
        <ul class="footer-links">
          <li><a href="http://www.phpbb.com/">phpBB.com</a></li>
          <li class="muted">·</li>
          <li><a href="http://github.com/phpBB">phpBB Github</a></li>
          <li class="muted">·</li>
          <li><a href="http://www.kennycameron.co.uk">Personal Site</a></li>
        </ul>
      </div>
    </footer>

    <script src="./../../assets/js/jquery.js"></script>
    <script src="./../../assets/js/bootstrap-transition.js"></script>
    <script src="./../../assets/js/bootstrap-modal.js"></script>
    <script src="./../../assets/js/bootstrap-tab.js"></script>
    <script src="./../../assets/js/bootstrap-tooltip.js"></script>
    <script src="./../../assets/js/bootstrap-button.js"></script>
    <script src="./../../assets/js/bootstrap-collapse.js"></script>
    <script src="./../../assets/js/bootstrap-affix.js"></script>

    <script src="./../../assets/js/holder/holder.js"></script>
    <script src="./../../assets/js/google-code-prettify/prettify.js"></script>

    <script src="./../../assets/js/application.js"></script>

  </body>
</html>