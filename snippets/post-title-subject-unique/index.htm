<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>phpBB Snippets - opic title / Post subject cannot be the same</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="./../../assets/css/bootstrap.css" rel="stylesheet">
    <link href="./../../assets/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="./../../assets/css/docs.css" rel="stylesheet">
    <link href="./../../assets/js/google-code-prettify/prettify.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="./../../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="./../../assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="./../../assets/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="./../../assets/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="./../../assets/ico/favicon.png">

  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="./../../index.html" style="color:#fff;">phpBB Snippets</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active">
                <a href="#top">Back to top</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

<header class="jumbotron subhead" id="overview">
  <div class="container">
    <h1>Topic title / Post subject cannot be the same</h1>
	  <p>Users have to enter a unique (sic) post subject. Can't be the same as the topic title</p>
  </div>
</header>

  <div class="container">

        <section id="top">
          <div class="page-header">
            
          </div>
          <p class="lead">I got this idea when reading <a href="http://www.phpbb.com/community/viewtopic.php?f=64&t=1748635">this topic</a> by <a href="http://www.phpbb.com/community/memberlist.php?mode=viewprofile&un=Improfane" style="font-weight:bold;">Improfane</a> on phpbb.com - Got me thinking that maybe there are some forums out there that may benefit from this snippet, so I thought I'd write it up. Very simple, just takes 1 small addition of code in posting.php </p>
<p class="lead">What it does is check to see if the post subject matches the topic title. If they are the same, the post will not be submitted until it differs. This will not affect editing the 1st post in a topic. Checks are made when replying to a topic and quoting a post.</p>
<pre>#
#-----[ OPEN ]------------------------------------------
#
posting.php
#
#-----[ FIND ]------------------------------------------
#
</pre>	
<pre class="prettyprint linenums">        // Parse subject    </pre>
<pre>#
#-----[ FIND ]------------------------------------------
#
</pre>	
<pre class="prettyprint linenums">            $error[] = $user-&gt;lang['EMPTY_SUBJECT'];
        } </pre>
<pre>#
#-----[ AFTER ADD ]------------------------------------------
#
</pre>	
<pre class="prettyprint linenums">        if (!$refresh &amp;&amp; ($mode == 'reply' || $mode == 'quote' || ($mode == 'edit' &amp;&amp; !$post_data['topic_first_post_id'] == $post_id)))    
        {
            if ($post_data['post_subject'] == $post_data['topic_title'])
            {
                $error[] = "Please use a post subject that is not the same as the topic title";
            }
        } </pre>
<p></p>			

        </section>
    </div>

	<footer class="footer">
      <div class="container">
        <p>`This page was designed and built using the awesome Bootstrap CSS framework from <a target="_blank" href="http://twitter.com/mdo">@mdo</a> and <a target="_blank" href="http://twitter.com/fat">@fat</a>.</p>
        <p>Code provided here is given as is with no guarantee of support - this code has <strong>not</strong> been tested with the latest phpBB versions.</p>
        <ul class="footer-links">
          <li><a href="http://www.phpbb.com/">phpBB.com</a></li>
          <li class="muted">·</li>
          <li><a href="http://github.com/phpBB">phpBB Github</a></li>
          <li class="muted">·</li>
          <li><a href="http://www.kennycameron.co.uk">Personal Site</a></li>
        </ul>
      </div>
    </footer>

    <script src="./../../assets/js/jquery.js"></script>
    <script src="./../../assets/js/bootstrap-transition.js"></script>
    <script src="./../../assets/js/bootstrap-modal.js"></script>
    <script src="./../../assets/js/bootstrap-tab.js"></script>
    <script src="./../../assets/js/bootstrap-tooltip.js"></script>
    <script src="./../../assets/js/bootstrap-button.js"></script>
    <script src="./../../assets/js/bootstrap-collapse.js"></script>
    <script src="./../../assets/js/bootstrap-affix.js"></script>

    <script src="./../../assets/js/holder/holder.js"></script>
    <script src="./../../assets/js/google-code-prettify/prettify.js"></script>

    <script src="./../../assets/js/application.js"></script>

  </body>
</html>